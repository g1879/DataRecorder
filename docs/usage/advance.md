## ğŸ“° è®¾ç½®è¡¨å¤´

ç”¨è¡¨æ ¼æ–‡ä»¶åšæ•°æ®é‡‡é›†çš„æ—¶å€™ï¼Œè¦è®¾ç½®è¡¨å¤´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¡¨å¤´ä½œä¸ºç¬¬ä¸€æ¡æ•°æ®é€šè¿‡`add_data()`æ–¹æ³•æ·»åŠ åˆ°æ–‡ä»¶ã€‚ä½†æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨åŒä¸€æ®µä»£ç å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œå¤šæ‰¹æ¬¡å†™å…¥ï¼Œå¦‚æœæ¯æ¬¡éƒ½æ‰§è¡Œåˆ°è¿™ä¸ªè¯­å¥ï¼Œå°±ä¼šå†™å…¥å¤šä¸ªè¡¨å¤´è¡Œã€‚

å› æ­¤è®¾è®¡äº†ä¸€ä¸ªè®¾ç½®è¡¨å¤´çš„æ–¹æ³•`set.head()`ï¼Œ`Recorder`è¿˜æœ‰ä¸€ä¸ªè‡ªåŠ¨è®¾ç½®è¡¨å¤´çš„åŠŸèƒ½ã€‚

### ğŸ“œ è‡ªåŠ¨è®¾ç½®

è‡ªåŠ¨è®¾ç½®åªæœ‰`Recorder`æ”¯æŒï¼ŒåŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶å°±èƒ½è‡ªåŠ¨æ¿€æ´»ï¼š

- æŒ‡å®šä¸å­˜åœ¨çš„ csv æˆ– xlsx æ–‡ä»¶

- æ•°æ®æ ¼å¼ä¸º`dict`

å†™å…¥æ•°æ®æ—¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶ï¼ŒåŒæ—¶ä¼šæŠŠç¬¬ä¸€æ¡æ•°æ®çš„`key`å€¼ä½œä¸ºè¡¨å¤´æ·»åŠ åˆ°æ–‡ä»¶ã€‚

```python
from DataRecorder import Recorder

r = Recorder('data.csv')
data = {'å§“å':'å¼ ä¸‰', 'æ€§åˆ«':'ç”·'}
r.add_data(data)
```

æ–‡ä»¶å†…å®¹ï¼š

| å§“å  | æ€§åˆ«  |
| --- | --- |
| å¼ ä¸‰  | ç”·   |

---

### ğŸ“œ æ‰‹åŠ¨è®¾ç½®

`set.head()`æ–¹æ³•å¯ä»¥ä¸º xlsx æˆ– csv æ–‡ä»¶è®¾ç½®è¡¨å¤´ï¼Œæ— è®ºæ–‡ä»¶æ˜¯å¦å·²åˆ›å»ºã€‚ä»»ä½•æ—¶å€™éƒ½å¯ä»¥ä½¿ç”¨ã€‚

`Recorder`å’Œ`Filler`éƒ½æ”¯æŒæ­¤æ–¹æ³•ã€‚

```python
from DataRecorder import Recorder

r = Recorder('data.csv')
r.set.head(('å§“å', 'æ€§åˆ«'))
r.add_data(('å¼ ä¸‰', 'ç”·'))
```

!!! warning "æ³¨æ„"
`set.head()`ä¼šè¦†ç›–ç¬¬ä¸€è¡Œå†…å®¹ï¼Œä½¿ç”¨æ—¶è¦æ³¨æ„ã€‚

---

## ğŸ”– ä¸ºæ¯æ¡æ•°æ®æ·»åŠ å›ºå®šå‰åç¼€

æœ‰äº›æ—¶å€™ï¼Œæ•°æ®é‡‡é›†çš„æ—¶å€™è¦ä¸ºè¯¥æ‰¹æ¬¡æ¯æ¡æ•°æ®éƒ½å½•å…¥åŒä¸€ä¸ªå†…å®¹ï¼Œæ¯”å¦‚æ—¥æœŸã€‚æˆ‘ä»¬å½“ç„¶å¯ä»¥ç›´æ¥åœ¨æ•°æ®é‡Œé¢åŠ ä¸Šè¿™äº›åˆ—ï¼Œä½†æœ‰ä¸€ä¸ªæ›´æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå¯ä»¥å‡å°‘è¿™äº›å†…å®¹å¯¹é‡‡é›†ä»£ç çš„å¹²æ‰°ã€‚å°±æ˜¯`before`å’Œ`after`å±æ€§ã€‚

é¡¾åæ€ä¹‰ï¼Œ`before`æ˜¯åœ¨æ¯æ¡æ•°æ®è®°å½•çš„æ—¶å€™åœ¨å‰é¢æ·»åŠ ä¸€äº›å›ºå®šåˆ—ï¼Œ`after`åˆ™æ˜¯åœ¨åé¢ã€‚

`Recorder`å’Œ`Filler`æ”¯æŒè¿™ä¸¤ä¸ªå±æ€§ï¼Œ`ByteRecorder`ä¸æ”¯æŒã€‚

ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ï¼Œé‡‡é›† gitee å¼€æºé¡¹ç›®å‰ 5 é¡µã€‚æ­¤ç¤ºä¾‹ä½¿ç”¨ [DrissionPage](http://g1879.gitee.io/drissionpage) è¿›è¡Œé¡µé¢è®¿é—®å’Œè§£æã€‚

```python
from DrissionPage import SessionPage
from DataRecorder import Recorder

def get_list(page, recorder):
    """è·å–ä¸€é¡µä¿¡æ¯å¹¶æ·»åŠ åˆ°è®°å½•å™¨"""
    p = SessionPage()  # åˆ›å»ºé¡µé¢å¯¹è±¡
    url = f'https://gitee.com/explore/all?page={page}'
    p.get(url)  # è®¿é—®é¡µé¢
    rows = p('.ui relaxed divided items explore-repo__list').eles('.item')
    for row in rows:  # éå†æ‰€æœ‰è¡Œ
        data = {  # äº§ç”Ÿä¸€è¡Œæ•°æ®
            'page': page,
            'title': row('.title project-namespace-path').text,
            'content': row('.project-desc mb-1').text,
            'stars': row('.stars-count').text
        }
        recorder.add_data(data)  # æŠŠä¸€æ¡æ•°æ®æ”¾å…¥è®°å½•å™¨

def main():
    r = Recorder('data.xlsx')  # åˆ›å»ºè®°å½•å™¨
    for i in range(1, 6):  # éå†5é¡µ
        get_list(i, r)

if __name__ == '__main__':
    main()
```

æ–‡ä»¶å†…å®¹ï¼š

| page | title           | content                                                                                             | stars |
| ---- | --------------- | --------------------------------------------------------------------------------------------------- | ----- |
| 1    | RTduino/RTduino | RT-Threadçš„Arduinoç”Ÿæ€å…¼å®¹å±‚                                                                              | 3     |
| 1    | zu1k/nali       | An offline tool for querying IP geographic information and CDN provider.ä¸€ä¸ªæŸ¥è¯¢IPåœ°ç†ä¿¡æ¯å’ŒCDNæœåŠ¡æä¾›å•†çš„ç¦»çº¿ç»ˆç«¯å·¥å…·. | 2     |
| 1    | å¾å°å¤•/dooringx    | å¼€ç®±å³ç”¨çš„H5å¯è§†åŒ–æ­å»ºæ¡†æ¶ï¼Œè½»æ¾æ­å»ºè‡ªå·±çš„å¯è§†åŒ–æ­å»ºå¹³å°                                                                       | 31    |
|      | ä»¥ä¸‹çœç•¥ã€‚ã€‚ã€‚         |                                                                                                     |       |

æˆ‘ä»¬å¸Œæœ›åœ¨å‰é¢å¢åŠ ä¸€åˆ—ç”¨äºè®°å½•é‡‡é›†æ—¥æœŸï¼Œåœ¨åé¢æ·»åŠ ä¸€åˆ—è®°å½•é‡‡é›†äººï¼Œè¿™äº›åˆ—æ¯ä¸€è¡Œéƒ½ä¸€æ ·ï¼Œå› æ­¤å¯ä»¥ç»Ÿä¸€å†™åœ¨`before`å’Œ`after`å±æ€§ä¸­ã€‚

```python
r = Recorder('data.xlsx')
r.set.before({'date': '2022-06-10'})
r.set.after({'staff': 'g1879'})
```

ç°åœ¨åˆ æ‰åˆšæ‰çš„æ–‡ä»¶é‡æ–°æ‰§è¡Œé‡‡é›†ï¼Œå¾—åˆ°ä»¥ä¸‹æ–‡ä»¶å†…å®¹ï¼š

| date       | page | title           | content                                                                                             | stars | staff |
| ---------- | ---- | --------------- | --------------------------------------------------------------------------------------------------- | ----- | ----- |
| 2022-06-10 | 1    | RTduino/RTduino | RT-Threadçš„Arduinoç”Ÿæ€å…¼å®¹å±‚                                                                              | 3     | g1879 |
| 2022-06-10 | 1    | zu1k/nali       | An offline tool for querying IP geographic information and CDN provider.ä¸€ä¸ªæŸ¥è¯¢IPåœ°ç†ä¿¡æ¯å’ŒCDNæœåŠ¡æä¾›å•†çš„ç¦»çº¿ç»ˆç«¯å·¥å…·. | 2     | g1879 |
| 2022-06-10 | 1    | å¾å°å¤•/dooringx    | å¼€ç®±å³ç”¨çš„H5å¯è§†åŒ–æ­å»ºæ¡†æ¶ï¼Œè½»æ¾æ­å»ºè‡ªå·±çš„å¯è§†åŒ–æ­å»ºå¹³å°                                                                       | 31    | g1879 |
|            |      | ä»¥ä¸‹çœç•¥ã€‚ã€‚ã€‚         |                                                                                                     |       |       |

ä¹Ÿè®¸æ‚¨å·²ç»æ³¨æ„åˆ°ï¼Œä»£ç æ²¡æœ‰æ‰§è¡Œ`set.head()`ï¼Œä½†å‰åä¸¤åˆ—çš„`key`å€¼ä¹ŸåŠ åˆ°è¡¨å¤´é‡Œå»äº†ã€‚

è€Œä¸”è¿™ä¸¤ä¸ªå±æ€§è¿˜æ”¯æŒå¤šåˆ—ï¼Œå¯ä»¥æ¥æ”¶`list`ã€`tuple`ã€`dict`ç­‰ï¼Œæ·»åŠ å‰ååˆ—ã€‚

!!! warning "æ³¨æ„"
    `DBRecorder`è®¾ç½®çš„`after`å’Œ`before`å¦‚æœä¸æ˜¯`dict`æ ¼å¼ï¼Œè€Œ`add_data()`ä¼ å…¥çš„æ•°æ®æ˜¯`dict`æ ¼å¼ï¼Œ`after`å’Œ`before`è®¾ç½®ä¼šè¢«å¿½ç•¥ã€‚

---

## ğŸ§¶ å¤šçº¿ç¨‹å†™å…¥æ–‡ä»¶

åšæ•°æ®é‡‡é›†çš„æ—¶å€™ç»å¸¸ç”¨åˆ°å¤šçº¿ç¨‹ï¼Œå¤šçº¿ç¨‹åŒæ—¶è®°å½•åˆ°æ–‡ä»¶å®¹æ˜“äº§ç”Ÿå†²çªã€‚æœ¬åº“ä¸ºå¤šçº¿ç¨‹æ•°æ®é‡‡é›†æä¾›äº†æ”¯æŒï¼Œåªè¦åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºè®°å½•å™¨å¯¹è±¡ï¼Œåˆ†å‘åˆ°å„ä¸ªé‡‡é›†çº¿ç¨‹ä¸­ä½¿ç”¨å³å¯ã€‚ç”¨æ³•å’Œå•çº¿ç¨‹ä¸€è‡´ï¼Œå¯é¿å…å†™å…¥å†²çªã€‚

ç°åœ¨ç»§ç»­ç”¨ä¸Šé¢çš„ç¤ºä¾‹ï¼Œåˆ›å»º 5 ä¸ªçº¿ç¨‹åˆ†åˆ«çˆ¬å– gitee å¼€æºé¡¹ç›®å‰ 5 é¡µï¼Œæ¯ä¸ªçº¿ç¨‹æ¥æ”¶åŒä¸€ä¸ªè®°å½•å™¨å¯¹è±¡ï¼Œå¾€é‡Œé¢æ·»åŠ æ•°æ®ã€‚åªè¦ä¸€ä¸ªå°æ”¹åŠ¨ï¼ŒæŠŠå¯¹`get_list()`çš„è°ƒç”¨æ”¾å…¥çº¿ç¨‹é‡Œå³å¯ã€‚

```python
# å•çº¿ç¨‹ï¼š
def main():
    r = Recorder('data.xlsx')  # åˆ›å»ºè®°å½•å™¨
    for i in range(1, 6):  # ç¼–å†5é¡µ
        get_list(i, r)

# å¤šçº¿ç¨‹ï¼š
def main():
    r = Recorder('data.xlsx')  # åˆ›å»ºè®°å½•å™¨
    for i in range(1, 6):  # åˆ›å»º5ä¸ªçº¿ç¨‹åˆ†åˆ«è·å–1-5é¡µ
        Thread(target=get_list, args=(i, r)).start()
```

æ–‡ä»¶å†…å®¹ï¼š

| page | title                                    | content                                                                                                | stars |
| ---- | ---------------------------------------- | ------------------------------------------------------------------------------------------------------ | ----- |
| 4    | RichardoMu/yolov5-mask-detect            | A C++ implementation of Yolov5 to detect mask running in Jetson Xavier nx and Jetson nano.             | 17    |
| 4    | RichardoMu/yolov5-smoke-detection-python | A Python implementation of Yolov5 to detect whether peaple smoking in Jetson Xavier nx and Jetson nano | 4     |
| 4    | RichardoMu/yolov5-smoking-detect         | A C++ implementation of Yolov5 to detect peaple smoking running in Jetson Xavier nx and Jetson nano.   | 6     |
|      | ä»¥ä¸‹çœç•¥ã€‚ã€‚ã€‚                                  |                                                                                                        |       |

!!! warning "æ³¨æ„"
å› ä¸ºæ˜¯å¤šçº¿ç¨‹é‡‡é›†ï¼Œæ–‡ä»¶å†…å®¹å¹¶ä¸æ˜¯æŒ‰é¡ºåºæ·»åŠ ã€‚
